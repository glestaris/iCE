#!/usr/bin/env python2
import sys

from ice import shell, config, logging


def main():
    # Is verbose?
    _cfg = config.get_configuration()
    if _cfg.get_bool('shell', 'debug', False):
        # Set root logger to debug
        root_logger = logging.get_logger('ice')
        root_logger.setLevel(logging.DEBUG)
        root_logger.debug('Setting log level to DEBUG')

    # Shell
    s = shell.Shell(_cfg, logging.get_logger('ice.shell'))

    # Start the shell
    s.start(sys.argv[1:])


if __name__ == '__main__':
    main()
