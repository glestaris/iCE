#!/usr/bin/env python2
import sys

from ice import shell, config, logging


def main():
    # Configuration
    _cfg = config.get_configuration('shell')

    # Logger
    _logger = logging.get_logger('ice.shell')
    if _cfg.get_bool('shell', 'debug', False):
        _logger.setLevel(logging.DEBUG)
        _logger.debug('Setting log level to DEBUG')

    # Shell
    s = shell.Shell(_cfg, _logger)

    # Start the shell
    s.start(sys.argv[1:])


if __name__ == '__main__':
    main()
